<!-- 
    1. Login though Spotify
 -->

<%- include ('../partials/header') %>
<%- include ('../partials/menu') %>

<main>
  <div class="container">
    <h1>Login</h1>
    <form id = "login form" action = "/login" method = "post">
      <div class="mb-3" id = "username">
          <label for="username" class="form-label">Username</label>
          <input type="text" class="form-control" name = "username" id="username" placeholder = "Enter username">
      </div>

      <div class="mb-3" id = "password">
        <label for="password" class="form-label">Password</label>
        <input type="text" class="form-control" id= "password" name = "password" placeholder="Enter password">
      </div>

      <div class="submit">
          <button type="submit"  class="btn btn-primary" id = "submit-button" >Login</button>
      </div>
      <hr>
      <div>
        <small>Don't have an account?</small>
        <a href="/register"><small> Register!</small> </a>
        <!-- <small>Log in with Spotify</small> 
        <a href="/???">Login Through Spotify</a> -->
      </div>
    </form>
  

    <div id="my-signin2"></div>
    <script>
      function onSuccess(spotifyUser) {
        console.log('Logged in as: ' + spotifyUser.getBasicProfile().getName());
      }
      function onFailure(error) {
        console.log(error);
      }
      function renderButton() {
        gapi.signin2.render('my-signin2', {
          'scope': 'profile email',
          'width': 240,
          'height': 50,
          'longtitle': true,
          'theme': 'dark',
          'onsuccess': onSuccess,
          'onfailure': onFailure
        });
      }
    </script>

    <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
  </div>
</body>
</main> 
<%- include ('../partials/footer') %>